import streamlit as st
import numpy as np
import joblib
from sklearn.ensemble import RandomForestClassifier
from sklearn.datasets import make_classification

st.set_page_config(page_title="ØªÙˆÙ‚Ø¹ Ù…Ø±Ø¶ Ø§Ù„Ù‚Ù„Ø¨", layout="centered")

@st.cache_resource
def load_model():
    X, y = make_classification(n_samples=100, n_features=11, random_state=42)
    model = RandomForestClassifier().fit(X, y)
    return model

model = load_model()

st.title("ğŸ©º ØªÙˆÙ‚Ø¹ ÙˆØ¬ÙˆØ¯ Ù…Ø±Ø¶ Ø§Ù„Ù‚Ù„Ø¨")

fields = {
    'Age': st.number_input("Ø§Ù„Ø¹Ù…Ø±", 0, 120, 30),
    'Sex': st.selectbox("Ø§Ù„Ø¬Ù†Ø³", [0, 1], format_func=lambda x: "Ø£Ù†Ø«Ù‰" if x == 0 else "Ø°ÙƒØ±"),
    'ChestPainType': st.slider("Ù†ÙˆØ¹ Ø£Ù„Ù… Ø§Ù„ØµØ¯Ø± (0-3)", 0, 3, 1),
    'RestingBP': st.number_input("Ø¶ØºØ· Ø§Ù„Ø¯Ù… Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø±Ø§Ø­Ø©", 0, 300, 120),
    'Cholesterol': st.number_input("Ø§Ù„ÙƒÙˆÙ„ÙŠØ³ØªØ±ÙˆÙ„", 0, 600, 200),
    'FastingBS': st.selectbox("Ø³ÙƒØ± ØµØ§Ø¦Ù… > 120ØŸ", [0, 1]),
    'RestingECG': st.slider("Ù†ØªÙŠØ¬Ø© ECG (0-2)", 0, 2, 1),
    'MaxHR': st.number_input("Ø£Ù‚ØµÙ‰ Ù…Ø¹Ø¯Ù„ Ù†Ø¨Ø¶", 0, 300, 150),
    'ExerciseAngina': st.selectbox("Ø°Ø¨Ø­Ø© ØµØ¯Ø±ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø¬Ù‡Ø¯ØŸ", [0, 1], format_func=lambda x: "Ù„Ø§" if x == 0 else "Ù†Ø¹Ù…"),
    'Oldpeak': st.number_input("Oldpeak", 0.0, 10.0, 1.0),
    'ST_Slope': st.slider("Ù…ÙŠÙ„ ST (0-2)", 0, 2, 1)
}

if st.button("ğŸ” ØªÙˆÙ‚Ù‘Ø¹"):
    input_data = np.array([list(fields.values())])
    prediction = model.predict(input_data)
    if prediction[0] == 1:
        st.error("ğŸš¨ ÙŠÙˆØ¬Ø¯ Ø§Ø­ØªÙ…Ø§Ù„ Ù„Ù…Ø±Ø¶ Ø§Ù„Ù‚Ù„Ø¨")
    else:
        st.success("âœ… Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø±Ø¶ Ù‚Ù„Ø¨")

git add app.py
git commit -m "Add app.py for deployment"
git push
